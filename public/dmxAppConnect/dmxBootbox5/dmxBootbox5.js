/*!
 App Connect Bootbox (bs5)
 Version: 1.0.2
 (c) 2023 Wappler.io
 @build 2023-02-24 13:43:31
 */
dmx.getModboxOptions=(e,t)=>{const o={backdrop:"static"};return o.body=t.message,t.title&&(o.title=t.title),t.size&&(o.size=t.size),null!=t.backdrop&&(!0===t.backdrop||"true"===t.backdrop?o.backdrop=!0:!1!==t.backdrop&&"false"!==t.backdrop||(o.backdrop=!1)),!1===t.animate&&(o.fade=!1),!1===t.closeButton&&(o.showHeaderClose=!1),t.swapButtonOrder&&(o.swapButtonOrder=!0),t.centerVertical&&(o.center=!0),!0!==t.scrollable&&(o.scrollable=!1),"alert"==e?t.buttons&&t.buttons.ok&&(o.closeButton={},t.buttons.ok.label&&(o.closeButton.label=t.buttons.ok.label),t.buttons.ok.className&&(o.closeButton.style=t.buttons.ok.className.replace("btn-",""))):"confirm"==e?(t.buttons&&t.buttons.confirm&&(o.okButton={},t.buttons.confirm.label&&(o.okButton.label=t.buttons.confirm.label),t.buttons.confirm.className&&(o.okButton.style=t.buttons.confirm.className.replace("btn-",""))),t.buttons&&t.buttons.cancel&&(o.closeButton={},t.buttons.cancel.label&&(o.closeButton.label=t.buttons.cancel.label),t.buttons.cancel.className&&(o.closeButton.style=t.buttons.cancel.className.replace("btn-","")))):"prompt"==e&&(t.buttons&&t.buttons.confirm&&(o.okButton={},t.buttons.confirm.label&&(o.okButton.label=t.buttons.confirm.label),t.buttons.confirm.className&&(o.okButton.style=t.buttons.confirm.className.replace("btn-",""))),t.buttons&&t.buttons.cancel&&(o.closeButton={},t.buttons.cancel.label&&(o.closeButton.label=t.buttons.cancel.label),t.buttons.cancel.className&&(o.closeButton.style=t.buttons.cancel.className.replace("btn-",""))),"select"==t.inputType?o.input=`<select\n          class="form-select"\n          ${t.multiple?"multiple":""}\n          ${t.required?"required":""}\n        >\n          ${t.inputOptions.map((e=>`\n            <option\n              value="${e.value||""}"\n              ${t.value==e.value?"selected":""}\n            >${e.text||e.value}</option>\n          `)).join("")}\n        </select>`:"checkbox"==t.inputType||"radio"==t.inputType?o.input=t.inputOptions.map(((e,o)=>`<div class="form-check">\n            <input\n              id="modbox-input-${o}"\n              type="${t.inputType}"\n              name="modbox-input-name"\n              value="${e.value||""}"\n              ${t.value==e.value?"checked":""}\n            >\n            <label class="form-check-label" for="modbox-input-${o}">\n              ${e.text||e.value}\n            </label>\n          </div>`)).join(""):"textarea"==t.inputType?o.input=`<textarea\n          class="form-control"\n          ${t.rows?`rows="${t.rows}"`:""}\n          ${t.placeholder?`placeholder="${t.placeholder}"`:""}\n          ${t.autocomplete?`autocomplete="${t.autocomplete}"`:""}\n          ${t.minlength?`minlength="${t.minlength}"`:""}\n          ${t.maxlength?`maxlength="${t.maxlength}"`:""}\n          ${t.required?"required":""}\n        >${t.value||""}</textarea>`:o.input=`<input\n          type="${t.inputType}"\n          class="${"range"==t.inputType?"form-range":"form-control"}"\n          value="${t.value||""}"\n          ${t.placeholder?`placeholder="${t.placeholder}"`:""}\n          ${t.autocomplete?`autocomplete="${t.autocomplete}"`:""}\n          ${t.minlength?`minlength="${t.minlength}"`:""}\n          ${t.maxlength?`maxlength="${t.maxlength}"`:""}\n          ${t.min?`min="${t.min}"`:""}\n          ${t.max?`max="${t.max}"`:""}\n          ${t.step?`step="${t.step}"`:""}\n          ${t.pattern?`pattern="${t.pattern}"`:""}\n          ${t.required?"required":""}\n        >`,o.body=`\n      ${t.message?`<p>${t.message}</p>`:""}\n      ${o.input}\n    `.trim()),o},dmx.Actions({"bootbox.alert":function(e){return modbox.alert(dmx.getModboxOptions("alert",this.parse(e)))},"bootbox.info":function(e){return modbox.info(dmx.getModboxOptions("alert",this.parse(e)))},"bootbox.success":function(e){return modbox.success(dmx.getModboxOptions("alert",this.parse(e)))},"bootbox.warning":function(e){return modbox.warning(dmx.getModboxOptions("alert",this.parse(e)))},"bootbox.danger":function(e){return modbox.danger(dmx.getModboxOptions("alert",this.parse(e)))},"bootbox.confirm":function(e){const t={then:(e=Object.assign({},e)).then,else:e.else};return delete e.then,delete e.else,modbox.confirm(dmx.getModboxOptions("confirm",this.parse(e))).then((()=>!t.then||this._exec(t.then).then((()=>!0)))).catch((()=>!!t.else&&this._exec(t.else).then((()=>!1))))},"bootbox.prompt":function(e){const t=dmx.extend(!0,{okButton:{label:"OK",style:"primary"},closeButton:{label:"Close",style:"secondary"}},dmx.getModboxOptions("prompt",this.parse(e)),{destroyOnClose:!0,defaultButton:!1,buttons:[]});return new Promise((e=>{const o=new modbox(t),n=o.modalEl.querySelector("input,select,textarea");"radio"==n.type&&(n.checked=!0),t.okButton.close=!1,t.okButton.callback=()=>{if(!n||n.reportValidity()){if("SELECT"==n.nodeName&&n.multiple)e(Array.from(n.selectedOptions).map((e=>e.value)));else if("checkbox"==n.type){const t=o.modalEl.querySelectorAll("input:checked");e(Array.from(t).map((e=>e.value)))}else if("radio"==n.type){const t=o.modalEl.querySelector("input:checked");e(t.value)}else e(n.value);o.hide()}};const l=o.addButton(t.okButton);o.addButton(t.closeButton);n&&"INPUT"==n.nodeName&&n.addEventListener("keyup",(e=>{"Enter"===e.key&&l.click()})),o.addEvent("hide",(()=>{e(null)})),o.show()}))}}),dmx.Component("bootbox",{methods:{alert:function(e){return modbox.alert(dmx.getModboxOptions("alert",e))},info:function(e){return modbox.info(dmx.getModboxOptions("alert",e))},success:function(e){return modbox.success(dmx.getModboxOptions("alert",e))},warning:function(e){return modbox.warning(dmx.getModboxOptions("alert",e))},danger:function(e){return modbox.danger(dmx.getModboxOptions("alert",e))}}});
//# sourceMappingURL=../maps/dmxBootbox5.js.map
